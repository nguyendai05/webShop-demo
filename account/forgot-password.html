<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../css/login.css">
    <title>Quên Mật Khẩu - Website Handmake</title>

    <style>
        /* Thêm CSS cho logic ẩn/hiện 3 bước */
        
        /* * Logic: HTML được đảo ngược (Step 3, 2, 1).
         * Mặc định: Chỉ Step 1 hiển thị.
         * Khi #step2-wrapper là target: Ẩn Step 1, Hiện Step 2.
         * Khi #step3-wrapper là target: Ẩn Step 1 & 2, Hiện Step 3.
        */
        
        /* Trạng thái mặc định (Chỉ hiện Step 1) */
        #step1-wrapper {
            display: block;
        }
        #step2-wrapper,
        #step3-wrapper {
            display: none;
        }

        /* Khi #step2-wrapper là target */
        #step2-wrapper:target {
            display: block; /* Hiện Step 2 */
        }
        #step2-wrapper:target ~ #step1-wrapper {
            display: none; /* Ẩn Step 1 */
        }

        /* Khi #step3-wrapper là target */
        #step3-wrapper:target {
            display: block; /* Hiện Step 3 */
        }
        #step3-wrapper:target ~ #step1-wrapper,
        #step3-wrapper:target ~ #step2-wrapper {
            display: none; /* Ẩn Step 1 và 2 */
        }


        /* Thêm style cho link "Đổi email" ở Step 2 */
        .change-email-link {
            text-align: center;
            margin-top: 16px;
        }

        .change-email-link a {
            font-size: 14px;
            color: #c0392b; /* Đồng bộ màu link */
            text-decoration: none;
            font-weight: 500;
        }

        .change-email-link a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- 
      Chúng ta phải đảo ngược thứ tự HTML (3, 2, 1).
      Step 3 (ẩn)
      Step 2 (ẩn)
      Step 1 (hiện)
      Để sử dụng CSS General Sibling Combinator (~)
    -->

    <!-- ===== STEP 3: NHẬP MẬT KHẨU MỚI (ẨN MẶC ĐỊNH) ===== -->
    <div id="step3-wrapper">
        <main class="login-main">
            <div class="login-container">
                <!-- 1. Cột trang trí (Giữ nguyên) -->
                <div class="login-decoration">
                    <div class="decoration-content">
                        <h2>Đồ thủ công mỹ nghệ Việt</h2>
                        <p>Tinh tế trong từng chi tiết, mang đậm bản sắc Việt</p>
                        <div class="decoration-pattern">
                            <i class="fa-solid fa-leaf"></i>
                            <i class="fa-solid fa-spa"></i>
                            <i class="fa-solid fa-leaf"></i>
                        </div>
                    </div>
                </div>
    
                <!-- 2. Cột Form Khôi Phục -->
                <div class="login-form-wrapper">
                    <div class="login-form-container">
    
                        <div class="login-header">
                            <h1>Tạo Mật Khẩu Mới</h1>
                            <p>Vui lòng nhập mật khẩu mới của bạn.</p>
                        </div>
    
                        <!-- Form này sẽ submit và chuyển hướng về index.html -->
                        <form class="login-form" id="resetForm" action="../index.html" method="get">
                            <div class="form-group">
                                <label for="new_password">
                                    <i class="fa-solid fa-lock"></i>
                                    Mật khẩu mới
                                </label>
                                <input
                                    type="password"
                                    id="new_password"
                                    name="new_password"
                                    placeholder="Nhập mật khẩu mới (tối thiểu 6 ký tự)"
                                    required
                                    minlength="6"
                                >
                            </div>
                            <div class="form-group">
                                <label for="confirm_password">
                                    <i class="fa-solid fa-check-double"></i>
                                    Xác nhận mật khẩu
                                </label>
                                <input
                                    type="password"
                                    id="confirm_password"
                                    name="confirm_password"
                                    placeholder="Nhập lại mật khẩu mới"
                                    required
                                    minlength="6"
                                >
                            </div>
    
                            <!-- Nút này là submit thật sự -->
                            <button type="submit" class="btn-login">
                                <i class="fa-solid fa-floppy-disk"></i> Lưu thay đổi
                            </button>
                        </form>
    
                        <div class="register-link">
                            <p>Đã nhớ mật khẩu? <a href="login.html">Quay lại đăng nhập</a></p>
                        </div>
    
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- ===== STEP 2: NHẬP MÃ XÁC NHẬN (ẨN MẶC ĐỊNH) ===== -->
    <div id="step2-wrapper">
        <main class="login-main">
            <div class="login-container">
                <!-- 1. Cột trang trí (Giữ nguyên) -->
                <div class="login-decoration">
                    <div class="decoration-content">
                        <h2>Đồ thủ công mỹ nghệ Việt</h2>
                        <p>Tinh tế trong từng chi tiết, mang đậm bản sắc Việt</p>
                        <div class="decoration-pattern">
                            <i class="fa-solid fa-leaf"></i>
                            <i class="fa-solid fa-spa"></i>
                            <i class="fa-solid fa-leaf"></i>
                        </div>
                    </div>
                </div>
    
                <!-- 2. Cột Form Khôi Phục -->
                <div class="login-form-wrapper">
                    <div class="login-form-container">
    
                        <div class="login-header">
                            <h1>Nhập Mã Xác Nhận</h1>
                            <p>Vui lòng kiểm tra email và nhập 6 số bên dưới.</p>
                        </div>
    
                        <!-- Form này không "submit", chỉ chuyển sang Step 3 -->
                        <form class="login-form" id="codeForm">
                            <div class="form-group">
                                <label for="code">
                                    <i class="fa-solid fa-key"></i>
                                    Mã xác nhận (OTP)
                                </label>
                                <input
                                    type="text"
                                    id="code"
                                    name="code"
                                    placeholder="Nhập 6 số"
                                    required
                                    maxlength="6"
                                    pattern="[0-9]{6}"
                                >
                            </div>
    
                            <!-- Nút này là <a> trỏ đến #step3-wrapper -->
                            <a href="#step3-wrapper" class="btn-login" style="text-decoration: none;">
                                <i class="fa-solid fa-check-circle"></i> Xác nhận
                            </a>
                        </form>
    
                        <div class="change-email-link">
                            <!-- Link này trỏ về # (hoặc forgot_password.html) để reset về Step 1 -->
                            <p><a href="forgot_password.html">Gửi lại mã hoặc đổi email</a></p>
                        </div>

                        <div class="register-link">
                            <p>Đã nhớ mật khẩu? <a href="login.html">Quay lại đăng nhập</a></p>
                        </div>
    
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- ===== STEP 1: NHẬP EMAIL (HIỆN MẶC ĐỊNH) ===== -->
    <div id="step1-wrapper">
        <main class="login-main">
            <div class="login-container">
                <!-- 1. Cột trang trí (Giữ nguyên) -->
                <div class="login-decoration">
                    <div class="decoration-content">
                        <h2>Đồ thủ công mỹ nghệ Việt</h2>
                        <p>Tinh tế trong từng chi tiết, mang đậm bản sắc Việt</p>
                        <div class="decoration-pattern">
                            <i class="fa-solid fa-leaf"></i>
                            <i class="fa-solid fa-spa"></i>
                            <i class="fa-solid fa-leaf"></i>
                        </div>
                    </div>
                </div>
    
                <!-- 2. Cột Form Khôi Phục -->
                <div class="login-form-wrapper">
                    <div class="login-form-container">
                        
                        <div class="login-header">
                            <h1>Quên Mật Khẩu?</h1>
                            <p>Đừng lo lắng. Vui lòng nhập email của bạn.</p>
                        </div>
    
                        <!-- Form này không "submit", chỉ chuyển sang Step 2 -->
                        <form class="login-form" id="forgotPasswordForm">
                            <div class="form-group">
                                <label for="email">
                                    <i class="fa-solid fa-envelope"></i>
                                    Email đã đăng ký
                                </label>
                                <input
                                    type="text"
                                    id="email"
                                    name="email"
                                    placeholder="Nhập email của bạn"
                                    required
                                >
                            </div>
    
                            <!-- ĐÂY LÀ NÚT CHUYỂN BƯỚC: 
                                 Dùng thẻ <a> tạo kiểu như .btn-login và trỏ tới #step2-wrapper 
                            -->
                            <a href="#step2-wrapper" class="btn-login" style="text-decoration: none;">
                                <i class="fa-solid fa-paper-plane"></i> Gửi mã xác nhận
                            </a>
                        </form>
    
                        <div class="register-link">
                            <p>Đã nhớ mật khẩu? <a href="login.html">Quay lại đăng nhập</a></p>
                        </div>
    
                    </div>
                </div>
            </div>
        </main>
    </div>
    
</body>
</html>